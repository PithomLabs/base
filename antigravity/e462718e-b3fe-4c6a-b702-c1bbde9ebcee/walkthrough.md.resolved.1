# Walkthrough - Enforce Memo for Ticket Creation

I have implemented the validation rule requiring tickets to have a memo description and improved the error messaging.

## Changes

### Backend
**File**: [store/ticket.go](file:///home/chaschel/Documents/ibm/go/tix-gemini-master/store/ticket.go)
- Added validation logic in [Validate()](file:///home/chaschel/Documents/ibm/go/tix-gemini-master/store/ticket.go#60-75):
```go
	if len(t.Description) < 3 || t.Description[:3] != "/m/" {
		return errors.New("description must be a valid memo link starting with /m/")
	}
```

### Frontend
**File**: [web/src/pages/Tickets.tsx](file:///home/chaschel/Documents/ibm/go/tix-gemini-master/web/src/pages/Tickets.tsx)
- Added pre-submission check validation.
- **Improved Error Handling**: Updated the API response handling to display the actual server error message instead of a generic failure.
```typescript
            if (!response.ok) {
                const data = await response.json().catch(() => null);
                const message = data?.message || (await response.text()) || "Failed to save ticket";
                throw new Error(message);
            }
```

## Verification Results

### Automated Tests
Ran `go test -v -run TestTicketStore ./store/test/...`
The test passed, confirming that:
1. Valid descriptions starting with `/m/` are accepted.
2. Invalid descriptions are rejected by the backend.

### Manual Verification
- If a user tries to create a ticket without a valid memo link via the UI, a specific toast appears: "A memo description is required..."
- If a user bypasses the UI and hits the API (or if backend validation fails for other reasons), the precise error message from the server (e.g., "description must be a valid memo link...") will now be shown in the error toast.
