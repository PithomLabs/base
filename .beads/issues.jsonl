{"id":"base-33d","title":"Fix issue type case conversion for beads CLI compatibility","description":"Frontend sends uppercase TASK/BUG/STORY but beads CLI expects lowercase task/bug/feature. Code fix exists in ticket_service.go L122-131 converting to lowercase, but server needs restart to apply.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-26T22:00:02.926827049+08:00","updated_at":"2025-12-26T22:01:00.093260333+08:00","closed_at":"2025-12-26T22:01:00.093260333+08:00","close_reason":"Verified fix in ticket_service.go L123 converts type to lowercase. Build succeeds. Fix is correct, users just need to restart server.","labels":["backend","beads","blocker"]}
{"id":"base-der","title":"Pass actual memo content to beads description field instead of memo link","description":"# Feature: Pass Memo Content to Beads Description\n\n## Description\nCurrently, when creating a ticket with a memo description, we pass the memo LINK (/m/xyz) to beads description field. The beads issue shows just the link, not the actual content. This enhancement will fetch and pass the actual memo content formatted per AGENTS.MD protocol.\n\n## Acceptance Criteria\n- [ ] Fetch memo content when description is /m/ link format\n- [ ] Format content per AGENTS.MD protocol (bug/feature/task templates)\n- [ ] Pass formatted content to bd create -d parameter instead of memo link\n- [ ] Beads issues display full memo content, not just links\n- [ ] Auto-add AGENTS.MD template structure if memo content lacks it\n- [ ] Support bugs with steps to reproduce format\n- [ ] Support features with acceptance criteria checklists\n- [ ] Support tasks with current state/goals format\n- [ ] Verify bd show displays complete formatted content\n\n## Implementation Details\n\n### Files to Modify\n1. server/router/api/v1/ticket_service.go - Add memo fetching and formatting logic\n2. No changes to server/service/beads.go (already accepts description string)\n\n### Helper Functions to Add\n- convertDescriptionToMemoName(description) - Convert /m/xyz to memos/xyz\n- formatMemoContentForBeads(content, issueType) - Apply AGENTS.MD formatting\n- formatBugDescription(content) - Add steps to reproduce template\n- formatFeatureDescription(content) - Add acceptance criteria template  \n- formatTaskDescription(content) - Add current state/goals template\n\n### Current Code (L125-140 in ticket_service.go)\n```go\nbeadsResp, err := s.beadsService.CreateIssue(ctx, \u0026service.BeadsIssueRequest{\n    Title:       request.Title,\n    Description: request.Description,  // ❌ This is /m/xyz\n    Type:        issueType,\n    Priority:    request.Priority.Int(),\n    Labels:      request.Labels,\n})\n```\n\n### New Code\n```go\n// Extract memo content if description is a memo link\nmemoContent := request.Description\nif strings.HasPrefix(request.Description, \"/m/\") {\n    memoName := convertDescriptionToMemoName(request.Description)\n    memo, err := s.Store.GetMemo(ctx, \u0026store.FindMemo{Name: \u0026memoName})\n    if err == nil \u0026\u0026 memo != nil {\n        memoContent = formatMemoContentForBeads(memo.Content, issueType)\n    }\n}\n\nbeadsResp, err := s.beadsService.CreateIssue(ctx, \u0026service.BeadsIssueRequest{\n    Title:       request.Title,\n    Description: memoContent,  // ✅ Full formatted content\n    Type:        issueType,\n    Priority:    request.Priority.Int(),\n    Labels:      request.Labels,\n})\n```\n\n## Dependencies\n- Memos API must be accessible during ticket creation\n- Store.GetMemo method must support FindMemo query\n\n## Impact\n- Better beads integration with full context instead of just links\n- Improved searchability - can search beads for content, not just titles\n- Standalone beads issues readable without accessing memos app\n- AGENTS.MD compliance enforced automatically\n- Full audit trail with descriptions preserved in beads history\n\n## Testing Plan\n1. Create memo with bug report content\n2. Create ticket linking that memo as description\n3. Verify: bd show base-xxx shows full formatted content with steps to reproduce\n4. Repeat for feature (checklist format) and task (goals format)\n5. Verify plain text descriptions get auto-templated","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-26T23:12:27.556681866+08:00","updated_at":"2025-12-26T23:27:23.796843512+08:00","closed_at":"2025-12-26T23:27:23.796843512+08:00","close_reason":"Implemented memo content fetching in ticket_service.go. Added helpers: convertDescriptionToMemoName, formatMemoContentForBeads, formatBugDescription, formatFeatureDescription, formatTaskDescription. Build successful. Server restart required to apply.","labels":["backend","beads","enhancement"]}
{"id":"base-dfy","title":"aaaaaaaaaadf","description":"/m/SdtNxA3aMmyjDtBoxaFoGg","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-26T22:16:07.51151869+08:00","updated_at":"2025-12-26T23:08:45.412830784+08:00","deleted_at":"2025-12-26T23:08:45.412830784+08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"base-e4f","title":"Fix beads_id parsing from bd create output","description":"/m/V2YuPvmZc5ER57MrcwAmrW","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-26T22:22:06.428059559+08:00","updated_at":"2025-12-26T23:08:49.626007398+08:00","deleted_at":"2025-12-26T23:08:49.626007398+08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"base-i08","title":"Fix beads_id parsing from bd create output","description":"BeadsService.CreateIssue fails to parse beads_id from bd create output. Output shows 'Created issue: base-dfy' but regex fails to extract 'base-dfy'. Parser needs to handle new bd CLI output format.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-26T22:17:26.651137047+08:00","updated_at":"2025-12-26T22:18:17.861349961+08:00","closed_at":"2025-12-26T22:18:17.861349961+08:00","close_reason":"Fixed parseBeadsIDFromOutput in beads.go L220-253 to support both 'base-' (new format) and 'bd-' (legacy) prefixes. Build successful. Server restart required to apply fix.","labels":["backend","beads","blocker"]}
{"id":"base-mt1","title":"bd sync failed error=\"exit status 1\" output=\"→ Exporting pending changes to JSONL...\\n→ Committing changes directly to sync branch 'master","description":"/m/oXSAdScCuXkVjgwZ4AWbpV","status":"tombstone","priority":2,"issue_type":"task","created_at":"2025-12-26T22:29:58.129843272+08:00","updated_at":"2025-12-26T23:08:41.160398528+08:00","deleted_at":"2025-12-26T23:08:41.160398528+08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"base-q6h","title":"Document server restart requirement for beads integration","description":"Users must restart backend server and hard refresh browser after code changes for beads integration. Need clear deployment instructions in walkthrough.md and README.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-26T22:00:37.300715447+08:00","updated_at":"2025-12-26T22:02:04.092231642+08:00","closed_at":"2025-12-26T22:02:04.092231642+08:00","close_reason":"Created deployment_guide.md with restart/refresh instructions, troubleshooting section, and verification steps.","labels":["deployment","docs"]}
{"id":"base-wyf","title":"Fix MemoEditor null reference error when userSetting undefined","description":"When adding memo description to new ticket, MemoEditor crashes with 'Cannot read properties of undefined (reading memoVisibility)'. Fix exists in MemoEditor/index.tsx L120-124 adding null check, but browser needs hard refresh.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-26T22:00:05.40671403+08:00","updated_at":"2025-12-26T22:01:06.259855053+08:00","closed_at":"2025-12-26T22:01:06.259855053+08:00","close_reason":"Verified fix in MemoEditor/index.tsx L120 adds null check for userSetting. Frontend build exists in dist/. Fix is correct, users just need to hard refresh browser.","labels":["blocker","frontend","react"]}
